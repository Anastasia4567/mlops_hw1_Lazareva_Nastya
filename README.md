# MLOps HW1 — DVC + MLflow на датасете ирис

Учебный проект по MLOps: на датасете Iris собирается минимальный воспроизводимый ML-pipeline с использованием DVC и MLflow.

Используется   модель (LogisticRegression), пайплайн состоит из двух стадий: подготовка данных и обучение модели.  
Данные и артефакты версионируются через DVC, параметры и метрики логируются в MLflow.

---

## Структура проекта

    ├── data/
    │   ├── raw/
    │   │   └── data.csv.dvc        # сырой датасет под DVC
    │   └── processed/              # train/test, генерируются пайплайном
    ├── src/
    │   ├── prepare.py              # подготовка данных, сплит
    │   └── train.py                # обучение модели + логирование в MLflow
    ├── dvc.yaml                    # описаны стадии prepare и train
    ├── dvc.lock                    # зафиксированное состояние пайплайна
    ├── params.yaml                 # параметры данных и модели
    ├── requirements.txt            # зависимости
    ├── mlflow.db                   # локальное хранилище MLflow (создаётся при запуске)
    └── README.md

Сырые данные (`data/raw/data.csv`) в Git не хранятся, за них отвечает DVC.

---

## Как запустить

**Клонировать репозиторий**

    git clone <URL_РЕПОЗИТОРИЯ>
    cd <ИМЯ_ПАПКИ>

**Установить зависимости**

    pip install -r requirements.txt

**Подтянуть данные из DVC**

    dvc pull

**Запустить весь пайплайн (prepare → train)**

    dvc repro

После этого появятся:

- `data/processed/train.csv`
- `data/processed/test.csv`
- `model.pkl`
- новая запись об эксперименте в MLflow.

---

## MLflow UI

Чтобы посмотреть параметры, метрики и артефакты в интерфейсе MLflow:

    mlflow ui --backend-store-uri sqlite:///mlflow.db

Интерфейс будет доступен по адресу:

    http://127.0.0.1:5000

В UI можно посмотреть:

- параметры модели и данных;
- метрику `accuracy` на тестовой выборке;
- загруженный артефакт модели (`model.pkl`) и модель в формате MLflow.


